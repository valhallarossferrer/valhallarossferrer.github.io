webpackJsonp([6],{361:function(n,l,e){"use strict";function t(n){return i._19(0,[(n()(),i.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),i._18(-1,null,["Please enter a valid email."]))],null,null)}function u(n){return i._19(0,[(n()(),i.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),i._18(-1,null,["Please enter a valid password (atleast 6 characters)."]))],null,null)}function o(n){return i._19(0,[(n()(),i._18(-1,null,["\n\n"])),(n()(),i.Z(1,0,null,null,69,"ion-content",[["class","bg-style"],["no-bounce",""],["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,E.b,E.a)),i.Y(2,4374528,null,0,x.a,[Z.a,F.a,j.a,i.j,i.z,S.a,z.a,i.u,[2,L.a],[2,T.a]],null,null),(n()(),i._18(-1,1,["\n  "])),(n()(),i.Z(4,0,null,1,65,"ion-grid",[["class","grid"]],null,null,null,null,null)),i.Y(5,16384,null,0,U.a,[],null,null),(n()(),i._18(-1,null,["\n  "])),(n()(),i.Z(7,0,null,null,1,"img",[["ion-long-press",""],["src","assets/imgs/logoWhiteWithShadow.png"],["style","margin-top: 20%; margin-bottom: -2%; width: 80px; height: 80px; align-self: center;"]],null,[[null,"onPressStart"],[null,"onPressing"],[null,"onPressEnd"]],function(n,l,e){var t=!0,u=n.component;if("onPressStart"===l){t=!1!==u.pressed()&&t}if("onPressing"===l){t=!1!==u.active()&&t}if("onPressEnd"===l){t=!1!==u.released()&&t}return t},null,null)),i.Y(8,212992,null,0,m,[i.u,i.j],{interval:[0,"interval"]},{onPressStart:"onPressStart",onPressing:"onPressing",onPressEnd:"onPressEnd"}),(n()(),i._18(-1,null,["\n  "])),(n()(),i.Z(10,0,null,null,1,"h1",[["style","align-self: center; margin-bottom: 20%; color: white; font-family: 'logoFont'; font-size: 25px;"]],null,null,null,null,null)),(n()(),i._18(-1,null,["Keto App"])),(n()(),i._18(-1,null,["\n        \n        "])),(n()(),i.Z(13,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0,u=n.component;if("submit"===l){t=!1!==i._11(n,15).onSubmit(e)&&t}if("reset"===l){t=!1!==i._11(n,15).onReset()&&t}if("submit"===l){t=!1!==u.loginUser()&&t}return t},null,null)),i.Y(14,16384,null,0,s.p,[],null,null),i.Y(15,540672,null,0,s.f,[[8,null],[8,null]],{form:[0,"form"]},null),i._14(2048,null,s.b,null,[s.f]),i.Y(17,16384,null,0,s.k,[s.b],null,null),(n()(),i._18(-1,null,["\n          "])),(n()(),i.Z(19,0,null,null,40,"ion-grid",[["class","grid"],["style","color: white;"]],null,null,null,null,null)),i.Y(20,16384,null,0,U.a,[],null,null),(n()(),i._18(-1,null,["\n            \n          "])),(n()(),i.U(16777216,null,null,1,null,t)),i.Y(23,16384,null,0,f.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._18(-1,null,["\n          "])),(n()(),i.Z(25,0,null,null,12,"ion-item",[["class","item item-block"],["margin-bottom",""]],null,[[null,"tap"]],function(n,l,e){var t=!0;if("tap"===l){t=!1!==n.component.check("email")&&t}return t},V.b,V.a)),i.Y(26,1097728,null,3,A.a,[O.a,Z.a,i.j,i.z,[2,R.a]],null,null),i._16(335544320,1,{contentLabel:0}),i._16(603979776,2,{_buttons:1}),i._16(603979776,3,{_icons:1}),i.Y(30,16384,null,0,G.a,[],null,null),(n()(),i._18(-1,2,["\n            "])),(n()(),i.Z(32,0,null,3,4,"ion-input",[["formControlName","email"],["placeholder","Email"],["type","email"]],[[2,"invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,q.b,q.a)),i.Y(33,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),i._14(2048,null,s.i,null,[s.e]),i.Y(35,16384,null,0,s.j,[s.i],null,null),i.Y(36,5423104,null,0,D.a,[Z.a,F.a,O.a,S.a,i.j,i.z,[2,x.a],[2,A.a],[2,s.i],j.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),i._18(-1,2,["\n          "])),(n()(),i._18(-1,null,["\n\n          "])),(n()(),i.U(16777216,null,null,1,null,u)),i.Y(40,16384,null,0,f.i,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(n()(),i._18(-1,null,["\n          "])),(n()(),i.Z(42,0,null,null,12,"ion-item",[["class","item item-block"],["margin-bottom",""]],null,[[null,"tap"]],function(n,l,e){var t=!0;if("tap"===l){t=!1!==n.component.check("pass")&&t}return t},V.b,V.a)),i.Y(43,1097728,null,3,A.a,[O.a,Z.a,i.j,i.z,[2,R.a]],null,null),i._16(335544320,4,{contentLabel:0}),i._16(603979776,5,{_buttons:1}),i._16(603979776,6,{_icons:1}),i.Y(47,16384,null,0,G.a,[],null,null),(n()(),i._18(-1,2,["\n            "])),(n()(),i.Z(49,0,null,3,4,"ion-input",[["formControlName","password"],["placeholder","Password"],["type","password"]],[[2,"invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,q.b,q.a)),i.Y(50,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[8,null]],{name:[0,"name"]},null),i._14(2048,null,s.i,null,[s.e]),i.Y(52,16384,null,0,s.j,[s.i],null,null),i.Y(53,5423104,null,0,D.a,[Z.a,F.a,O.a,S.a,i.j,i.z,[2,x.a],[2,A.a],[2,s.i],j.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),i._18(-1,2,["\n          "])),(n()(),i._18(-1,null,["\n\n          \n          "])),(n()(),i.Z(56,0,null,null,2,"button",[["color","light"],["ion-button",""],["type","submit"]],[[8,"disabled",0]],null,null,N.b,N.a)),i.Y(57,1097728,null,0,B.a,[[8,""],Z.a,i.j,i.z],{color:[0,"color"]},null),(n()(),i._18(-1,0,["\n            Login\n          "])),(n()(),i._18(-1,null,["\n          "])),(n()(),i._18(-1,null,["\n\n        "])),(n()(),i._18(-1,null,["\n\n        "])),(n()(),i.Z(62,0,null,null,2,"button",[["block",""],["clear",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.goToSignup()&&t}return t},N.b,N.a)),i.Y(63,1097728,null,0,B.a,[[8,""],Z.a,i.j,i.z],{color:[0,"color"],clear:[1,"clear"],block:[2,"block"]},null),(n()(),i._18(-1,0,["\n          Create a new account\n        "])),(n()(),i._18(-1,null,["\n\n        "])),(n()(),i.Z(66,0,null,null,2,"button",[["block",""],["clear",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.goToResetPassword()&&t}return t},N.b,N.a)),i.Y(67,1097728,null,0,B.a,[[8,""],Z.a,i.j,i.z],{color:[0,"color"],clear:[1,"clear"],block:[2,"block"]},null),(n()(),i._18(-1,0,["\n          I forgot my password\n        "])),(n()(),i._18(-1,null,["\n        \n  "])),(n()(),i._18(-1,1,["\n\n"])),(n()(),i._18(-1,null,["\n\n  "]))],function(n,l){var e=l.component;n(l,8,0,5e3);n(l,15,0,e.loginForm);n(l,23,0,!e.loginForm.controls.email.valid&&e.isEmail);n(l,33,0,"email");n(l,36,0,"email","Email");n(l,40,0,!e.loginForm.controls.password.valid&&e.isPass);n(l,50,0,"password");n(l,53,0,"password","Password");n(l,57,0,"light");n(l,63,0,"light","","");n(l,67,0,"light","","")},function(n,l){var e=l.component;n(l,1,0,i._11(l,2).statusbarPadding,i._11(l,2)._hasRefresher);n(l,13,0,i._11(l,17).ngClassUntouched,i._11(l,17).ngClassTouched,i._11(l,17).ngClassPristine,i._11(l,17).ngClassDirty,i._11(l,17).ngClassValid,i._11(l,17).ngClassInvalid,i._11(l,17).ngClassPending);n(l,32,0,!e.loginForm.controls.email.valid&&e.blur,i._11(l,35).ngClassUntouched,i._11(l,35).ngClassTouched,i._11(l,35).ngClassPristine,i._11(l,35).ngClassDirty,i._11(l,35).ngClassValid,i._11(l,35).ngClassInvalid,i._11(l,35).ngClassPending);n(l,49,0,!e.loginForm.controls.password.valid&&e.blur,i._11(l,52).ngClassUntouched,i._11(l,52).ngClassTouched,i._11(l,52).ngClassPristine,i._11(l,52).ngClassDirty,i._11(l,52).ngClassValid,i._11(l,52).ngClassInvalid,i._11(l,52).ngClassPending);n(l,56,0,!e.loginForm.valid)})}Object.defineProperty(l,"__esModule",{value:!0});var i=e(0),s=(e(4),e(40),e(22)),a=e(388),r=e(148),c=e(156),d=e.n(c),p=function(){function n(n,l,e,t,u,o){this.navCtrl=n,this.loadingCtrl=l,this.alertCtrl=e,this.authProvider=t,this.formBuilder=u,this.menu=o,this.isEmail=!1,this.isPass=!1,this.menu.enable(!1),this.menu.swipeEnable(!1),this.loginForm=u.group({email:["",s.n.compose([s.n.required,a.a.isValid])],password:["",s.n.compose([s.n.minLength(6),s.n.required])]})}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad LoginPage")},n.prototype.loginUser=function(){var n=this;this.loginForm.valid?(this.authProvider.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(function(l){l.user.emailVerified?n.authProvider.getProfile(l.user.uid).then(function(n){console.log("data",n)}).then(function(){n.loading.dismiss().then(function(){n.authProvider.getItems(l.user.email),n.navCtrl.setRoot("HomePage")})}):n.loading.dismiss().then(function(){d.a.auth().signOut().then(function(){localStorage.clear()});n.alertCtrl.create({title:"Email Not Verified",message:"Please verify your email by checking your mail",buttons:[{text:"Ok",handler:function(){l.user.sendEmailVerification().then(function(){console.log("Verification email sent to "+l.user.email)}).catch(function(){console.log("Failed to send verification email.")})}}]}).present(),n.navCtrl.setRoot("LoginPage")})},function(l){n.loading.dismiss().then(function(){console.log("error",l);n.alertCtrl.create({message:l.message,buttons:[{text:"Ok",role:"cancel"}]}).present()})}),this.loading=this.loadingCtrl.create(),this.loading.present()):console.log(this.loginForm.value)},n.prototype.goToSignup=function(){this.navCtrl.push("SignupPage")},n.prototype.goToResetPassword=function(){this.navCtrl.push("ResetPasswordPage")},n.prototype.check=function(n){var l=this;setTimeout(function(){"email"==n?l.isEmail=!0:l.isPass=!0},1e3)},n.prototype.pressed=function(){console.log("pressed")},n.prototype.active=function(){var n=this;console.log("active");this.alertCtrl.create({message:"Login",inputs:[{name:"password",placeholder:"Password",type:"password"}],buttons:[{text:"Ok",handler:function(l){if("admin"!==l.password)return console.log("wrong password"),!1;console.log("logged in as admin"),n.navCtrl.setRoot("AdminHomePage")}}]}).present()},n.prototype.released=function(){console.log("release")},n}(),g=e(266),f=e(16),m=function(){function n(n,l){this.zone=n,this.onPressStart=new i.l,this.onPressing=new i.l,this.onPressEnd=new i.l,this.el=l.nativeElement}return n.prototype.ngOnInit=function(){var n=this;if(this.interval||(this.interval=500),this.interval<40)throw new Error("A limit of 40ms is imposed so you don't destroy device performance. If you need less than a 40ms interval, please file an issue explaining your use case.");this.pressGesture=new g.a(this.el),this.pressGesture.listen(),this.pressGesture.on("press",function(l){n.onPressStart.emit(l),n.clearInt(),n.int=setInterval(function(){n.onPressing.emit()},n.interval)}),this.pressGesture.on("pressup",function(l){n.pressEnd()}),this.pressGesture.on("pan",function(l){n.pressEnd()}),this.pressGesture.on("release",function(l){n.pressEnd()}),this.el.addEventListener("mouseleave",function(l){n.pressEnd()}),this.el.addEventListener("mouseout",function(l){n.pressEnd()})},n.prototype.clearInt=function(){void 0!==this.int&&(clearInterval(this.int),this.int=void 0)},n.prototype.pressEnd=function(){this.clearInt(),this.onPressEnd.emit()},n.prototype.ngOnDestroy=function(){this.pressEnd(),this.pressGesture.destroy()},n}(),h=function(){return function(){}}(),_=function(){return function(){}}(),v=e(252),b=e(253),y=e(254),P=e(255),w=e(256),C=e(257),I=e(258),k=e(259),Y=e(260),E=e(261),x=e(27),Z=e(2),F=e(5),j=e(10),S=e(11),z=e(30),L=e(6),T=e(25),U=e(161),V=e(97),A=e(18),O=e(17),R=e(43),G=e(57),q=e(386),D=e(147),N=e(55),B=e(26),K=e(99),W=e(69),H=e(28),M=i.X({encapsulation:2,styles:[],data:{}}),X=i.V("page-login",p,function(n){return i._19(0,[(n()(),i.Z(0,0,null,null,1,"page-login",[],null,null,null,o,M)),i.Y(1,49152,null,0,p,[T.a,K.a,W.a,r.a,s.d,H.a],null,null)],null,null)},{},{},[]),J=e(144),$=e(51);e.d(l,"LoginPageModuleNgFactory",function(){return Q});var Q=i.W(_,[],function(n){return i._7([i._8(512,i.i,i.S,[[8,[v.a,b.a,y.a,P.a,w.a,C.a,I.a,k.a,Y.a,X]],[3,i.i],i.s]),i._8(4608,f.k,f.j,[i.r,[2,f.s]]),i._8(4608,s.q,s.q,[]),i._8(4608,s.d,s.d,[]),i._8(512,f.b,f.b,[]),i._8(512,s.o,s.o,[]),i._8(512,s.g,s.g,[]),i._8(512,s.m,s.m,[]),i._8(512,J.a,J.a,[]),i._8(512,J.b,J.b,[]),i._8(512,h,h,[]),i._8(512,_,_,[]),i._8(256,$.a,p,[])])})},386:function(n,l,e){"use strict";function t(n){return a._19(0,[(n()(),a.Z(0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==u.onInput(e)&&t}if("blur"===l){t=!1!==u.onBlur(e)&&t}if("focus"===l){t=!1!==u.onFocus(e)&&t}if("keydown"===l){t=!1!==u.onKeydown(e)&&t}return t},null,null)),a.Y(1,278528,null,0,r.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){n(l,1,0,"text-input","text-input-"+l.component._mode)},function(n,l){var e=l.component;n(l,0,0,e._type,e._labelId,e.min,e.max,e.step,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function u(n){return a._19(0,[(n()(),a.Z(0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==u.onInput(e)&&t}if("blur"===l){t=!1!==u.onBlur(e)&&t}if("focus"===l){t=!1!==u.onFocus(e)&&t}if("keydown"===l){t=!1!==u.onKeydown(e)&&t}return t},null,null)),a.Y(1,278528,null,0,r.g,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){n(l,1,0,"text-input","text-input-"+l.component._mode)},function(n,l){var e=l.component;n(l,0,0,e._labelId,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function o(n){return a._19(0,[(n()(),a.Z(0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.clearTextInput(e)&&t}if("mousedown"===l){t=!1!==u.clearTextInput(e)&&t}return t},c.b,c.a)),a.Y(1,1097728,null,0,d.a,[[8,""],p.a,a.j,a.z],{clear:[0,"clear"]},null)],function(n,l){n(l,1,0,"")},null)}function i(n){return a._19(0,[(n()(),a.Z(0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(n,l,e){var t=!0,u=n.component;if("touchstart"===l){t=!1!==u._pointerStart(e)&&t}if("touchend"===l){t=!1!==u._pointerEnd(e)&&t}if("mousedown"===l){t=!1!==u._pointerStart(e)&&t}if("mouseup"===l){t=!1!==u._pointerEnd(e)&&t}return t},null,null))],null,null)}function s(n){return a._19(2,[a._16(671088640,1,{_native:0}),(n()(),a.U(16777216,null,null,1,null,t)),a.Y(2,16384,null,0,r.i,[a.I,a.F],{ngIf:[0,"ngIf"]},null),(n()(),a.U(16777216,null,null,1,null,u)),a.Y(4,16384,null,0,r.i,[a.I,a.F],{ngIf:[0,"ngIf"]},null),(n()(),a.U(16777216,null,null,1,null,o)),a.Y(6,16384,null,0,r.i,[a.I,a.F],{ngIf:[0,"ngIf"]},null),(n()(),a.U(16777216,null,null,1,null,i)),a.Y(8,16384,null,0,r.i,[a.I,a.F],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,!e._isTextarea);n(l,4,0,e._isTextarea);n(l,6,0,e._clearInput);n(l,8,0,e._useAssist)},null)}e.d(l,"a",function(){return g}),l.b=s;var a=e(0),r=e(16),c=e(55),d=e(26),p=e(2),g=(e(5),e(17),e(10),a.X({encapsulation:2,styles:[],data:{}}))},388:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.isValid=function(n){return/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/.test(n.value)?null:{invalidEmail:!0}},n}()}});